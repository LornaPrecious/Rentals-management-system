{% extends 'main/base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<body>
  {% block pagecontent %}

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs d-flex align-items-center" style="background-image: url(/static/img/breadcrumbs-bg.jpg);">
      <div class="container position-relative d-flex flex-column align-items-center" data-aos="fade">

        <h2>Apartments</h2>
        <ol>
          <li><a href="{% url 'home' %}">Home</a></li>
          <li>Apartments</li>
        </ol>

      </div>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Our Projects Section ======= -->
    <section id="projects" class="projects">
      <div class="container" data-aos="fade-up">

   

      <div class="sidebar">
        <div class="sidebar-item search-form">
          <h3 class="sidebar-title">Search</h3>
          <form class="mt-3" method="post" role="search" action="{% url 'apartments' %}">
            {% csrf_token %}
            <input type="search" name="search_term" id="search_term">
            <button type="submit"><i class="bi bi-search"></i></button>
          </form>
        </div>
      </div>

  

        <div class="portfolio-isotope" data-portfolio-filter="*" data-portfolio-layout="masonry" data-portfolio-sort="original-order">
          <ul class="portfolio-flters" data-aos="fade-up" data-aos-delay="100">
            <li data-filter="*" class="filter-active">All</li>
            <li data-filter=".filter-apartment">Apartment</li>
            <li data-filter=".filter-duplex">Duplex</li>
            <li data-filter=".filter-condominium">Condominium</li>
            <li data-filter=".filter-singlefamilyhomes">Single family homes</li>
          </ul><!-- End Projects Filters -->

          <div class="row gy-4 portfolio-container" data-aos="fade-up" data-aos-delay="200">
          {% if properties %}
            {% for property in properties %}
            <!-- <div class="col-lg-4 col-md-6 portfolio-item {{ property.filter_class }}">
              <div class="portfolio-content h-100">
                <img src="{{ property.property_imageURL }}" class="img-fluid" alt="">
                <div class="portfolio-info">
                  <h4>{{ property.property_type }}</h4>
                  <p>{{ property.description }}</p>
                  <a href="{{ property.property_imageURL }}" title="Apartment" data-gallery="portfolio-gallery-construction" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                  <a href="{% url 'apartmentdetails' property_code=property.property_code %}" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a>
                </div>
              </div>
            </div>
             --> <!-- End Projects Item -->

            <!--*******************************************************************************************************************************************************************************************-->

          <!-- Determine the filter class based on property_type -->
            {% if property.property_type == 'apartment' %}
            {% with filter_class='filter-apartment' %}
            <div class="col-lg-4 col-md-6 portfolio-item {{ filter_class }}">
                <div class="portfolio-content h-100">
                    <img src="{{ property.property_imageURL }}" class="img-fluid" alt="">
                    <div class="portfolio-info">
                        <h4>{{ property.property_type }}</h4>
                        <p>{{ property.description }}</p>
                        <a href="{{ property.property_imageURL }}" title="Apartment" data-gallery="portfolio-gallery-construction" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                        <a href="{% url 'apartmentdetails' property_code=property.property_code %}" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a> 
                    </div>
                </div>
            </div><!-- End Projects Item -->
            {% endwith %}
            {% elif property.property_type == 'duplex' %}
            {% with filter_class='filter-duplex' %}
            <div class="col-lg-4 col-md-6 portfolio-item {{ filter_class }}">
                <div class="portfolio-content h-100">
                    <img src="{{ property.property_imageURL }}" class="img-fluid" alt="">
                    <div class="portfolio-info">
                        <h4>{{ property.property_type }}</h4>
                        <p>{{ property.description }}</p>
                        <a href="{{ property.property_imageURL }}" title="Apartment" data-gallery="portfolio-gallery-construction" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                        <a href="{% url 'apartmentdetails' property_code=property.property_code %}" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a> 
                    </div>
                </div>
            </div><!-- End Projects Item -->
            {% endwith %}
            {% elif property.property_type == 'condominium' %}
            {% with filter_class='filter-condominium' %}
            <div class="col-lg-4 col-md-6 portfolio-item {{ filter_class }}">
                <div class="portfolio-content h-100">
                    <img src="{{ property.property_imageURL }}" class="img-fluid" alt="">
                    <div class="portfolio-info">
                        <h4>{{ property.property_type }}</h4>
                        <p>{{ property.description }}</p>
                        <a href="{{ property.property_imageURL }}" title="Apartment" data-gallery="portfolio-gallery-construction" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                        <a href="{% url 'apartmentdetails' property_code=property.property_code %}" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a> 
                    </div>
                </div>
            </div><!-- End Projects Item -->
            {% endwith %}
            {% elif property.property_type == 'single_family_home' %}
            {% with filter_class='filter-singlefamilyhomes' %}
            <div class="col-lg-4 col-md-6 portfolio-item {{ filter_class }}">
                <div class="portfolio-content h-100">
                    <img src="{{ property.property_imageURL }}" class="img-fluid" alt="">
                    <div class="portfolio-info">
                        <h4>{{ property.property_type }}</h4>
                        <p>{{ property.description }}</p>
                        <a href="{{ property.property_imageURL }}" title="Apartment" data-gallery="portfolio-gallery-construction" class="glightbox preview-link"><i class="bi bi-zoom-in"></i></a>
                        <a href="{% url 'apartmentdetails' property_code=property.property_code %}" title="More Details" class="details-link"><i class="bi bi-link-45deg"></i></a> 
                    </div>
                </div>
            </div><!-- End Projects Item -->
            {% endwith %}
            {% endif %}
            <!-- DO I NEED TO GET RID OF THIS?-->
          {% endfor %}

<!--*******************************************************************************************************************************************************************************************-->
          
          
          {% else %}
            <p>No property listed</p>
          {% endif %}
          

          </div><!-- End Projects Container -->

        </div>

      </div>
    </section><!-- End Our Projects Section -->

  </main><!-- End #main -->

  {% endblock %}

</body>

</html>
